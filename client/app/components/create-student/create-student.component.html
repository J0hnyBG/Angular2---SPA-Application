<form name="form" (ngSubmit)="f.form.valid && createStudent(f.form);" #f="ngForm" novalidate>
    <div class="form-group" [ngClass]="{ 'has-error': (f.submitted || !firstName.untouched) && !firstName.valid }">
        <label for="firstName">First Name</label>
        <input id="firstName" type="text" class="form-control" name="firstName"
               [(ngModel)]="model.user.firstName"
               #firstName="ngModel" minlength="1" required/>
        <div *ngIf="(f.submitted || !firstName.untouched) && !firstName.valid" class="help-block">First Name is
            required
        </div>
    </div>
    <div class="form-group" [ngClass]="{ 'has-error': (f.submitted || !lastName.untouched) && !lastName.valid }">
        <label for="lastName">Last Name</label>
        <input id="lastName" type="text" class="form-control" name="lastName"
               [(ngModel)]="model.user.lastName"
               #lastName="ngModel" minlength="1" required/>
        <div *ngIf="(f.submitted || !lastName.untouched) && !lastName.valid" class="help-block">Last Name is required
        </div>
    </div>
    <div class="form-group" [ngClass]="{ 'has-error': (f.submitted || !username.untouched) && !username.valid }">
        <label for="username">Username</label>
        <input id="username" type="text" class="form-control" name="username"
               [(ngModel)]="model.user.username"
               #username="ngModel" minlength="6" pattern="^[A-Za-z0-9_. ]+$" required/>
        <div *ngIf="(f.submitted || !username.untouched) && !username.valid" class="help-block">Username has to be at least 6 characters long and can contain only A-Z, a-z, 0-9, '_' and '.'.
        </div>
    </div>
    <div class="form-group" [ngClass]="{ 'has-error': (f.submitted || !email.untouched) && !email.valid }">
        <label for="email">Email</label>
        <input id="email" type="email" class="form-control" name="email" [(ngModel)]="model.user.email"
               #email="ngModel" minlength="1" required
               pattern="^[a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,15})$"/>
        <div *ngIf="(f.submitted || !email.untouched) && !email.valid" class="help-block">Email must be a valid email
        </div>
    </div>
    <div class="form-group" [ngClass]="{ 'has-error': (f.submitted || !password.untouched) && !password.valid }">
        <label for="password">Password</label>
        <input id="password" type="password" class="form-control" name="password"
               [(ngModel)]="model.user.password"
               #password="ngModel"
               required minlength="6" pattern="^[A-Za-z0-9_.!@#$%^&*(){}:'<>?~|]+$/"
               validateEqual="confirmPassword" reverse="true">

        <div *ngIf="(f.submitted || !password.untouched) && !password.valid" class="help-block">Password must be more than 6 characters long
        </div>
    </div>
    <div class="form-group"
         [ngClass]="{ 'has-error': (f.submitted || !confirmPassword.untouched) && !confirmPassword.valid }">
        <label for="confirmPassword">Retype password</label>
        <input id="confirmPassword" type="password" class="form-control" name="confirmPassword"
               [(ngModel)]="model.user.confirmPassword"
               #confirmPassword="ngModel"
               required validateEqual="password" reverse="false">

        <div *ngIf="(f.submitted || !confirmPassword.untouched) && !confirmPassword.valid" class="help-block">Password
            mismatch
        </div>
    </div>
    <div class="form-group">
        <input class="btn btn-success" type="submit" value="Create Student">
    </div>
</form>
